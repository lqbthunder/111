<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>致·韩江月</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: radial-gradient(#0d1b2a, #000);
      color: #fff;
      font-family: "Microsoft YaHei", sans-serif;
      overflow: hidden;
      cursor: pointer;
    }
    .stars {
      position: absolute;
      width: 100%;
      height: 100%;
      background: url('https://cdn.pixabay.com/photo/2017/01/11/01/48/stars-1971195_1280.jpg') repeat;
      background-size: cover;
      animation: twinkle 30s infinite linear;
      z-index: 0;
    }
    @keyframes twinkle {
      0% { opacity: 1; }
      50% { opacity: 0.6; }
      100% { opacity: 1; }
    }
    .moon {
      position: absolute;
      top: 10%;
      right: 10%;
      width: 120px;
      height: 120px;
      background: radial-gradient(circle, #fff 40%, #ccc);
      border-radius: 50%;
      box-shadow: 0 0 40px #fff;
      z-index: 1;
    }
    .swallow {
      position: absolute;
      width: 60px;
      top: 20%;
      left: -100px;
      animation: fly 12s infinite linear;
      z-index: 1;
    }
    @keyframes fly {
      0% { transform: translateX(0); top: 20%; }
      50% { transform: translateX(100vw) translateY(-30px); }
      100% { transform: translateX(0); top: 30%; }
    }
    .container {
      position: relative;
      z-index: 2;
      padding: 40px;
      max-width: 800px;
      margin: 10% auto;
      background-color: rgba(0,0,0,0.6);
      border-radius: 16px;
      backdrop-filter: blur(4px);
    }
    h1 {
      font-size: 32px;
      text-align: center;
      margin-bottom: 20px;
    }
    .letter {
      white-space: pre-wrap;
      font-size: 18px;
      line-height: 1.8;
      display: none;
    }
    .footer {
      text-align: right;
      margin-top: 30px;
      font-size: 16px;
      font-style: italic;
      display: none;
    }
    #timer {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.6);
      padding: 10px 20px;
      border-radius: 20px;
      font-size: 16px;
      color: #ccc;
      z-index: 2;
    }
    .star {
      position: absolute;
      width: 8px;
      height: 8px;
      background: #fff;
      border-radius: 50%;
      box-shadow: 0 0 10px #fff;
      animation: fadeStar 1.5s linear forwards;
      pointer-events: none;
      z-index: 2;
    }
    @keyframes fadeStar {
      to {
        transform: scale(0);
        opacity: 0;
      }
    }
    /* 隐藏通知表单 */
    #visitorNotifyForm {
      display: none;
    }
  </style>
</head>
<body>
  <div class="stars"></div>
  <div class="moon"></div>
  <img class="swallow" src="/111/小燕子.png" alt="小燕子">

  <div class="container">
    <h1>亲爱的韩江月，我的小燕子：</h1>
    <div class="letter" id="letter"></div>
    <div class="footer" id="footer">
      永远爱你的，<br>
      刘启博<br>
      2025年4月12日于月光下
    </div>
  </div>

  <div id="timer"></div>

  <!-- 添加的邮件通知表单 -->
  <form id="visitorNotifyForm" action="https://formsubmit.co/3386430646@qq.com" method="POST">
    <input type="hidden" name="_subject" value="有人查看了你的情书网页">
    <input type="hidden" name="_template" value="table">
    <input type="hidden" name="访问时间" id="visitTime">
    <input type="hidden" name="访问页面" value="致韩江月情书">
    <input type="hidden" name="来源" id="visitReferrer">
    <input type="hidden" name="设备信息" id="visitDevice">
    <input type="hidden" name="_next" value="https://yourdomain.com/thanks.html"> <!-- 可选：提交后跳转页面 -->
    <input type="hidden" name="_captcha" value="false">
  </form>

  <script>
    const text = `此刻窗外的月光正轻轻洒在我的键盘上，让我想起第一次见到你时，你眼里闪烁的星光。他们说燕子是春天的信使，而你，是我生命中最美的意外。你像一只轻盈的燕子，衔着月光飞进我平淡的世界，在我的屋檐下筑起最温暖的巢。

现在的我，或许还不是那棵能让你永远栖息的大树。我的枝干还不够粗壮，树冠还不够宽广，但我每天都在努力生长。你看，我的根须在泥土里延伸，我的年轮在悄悄增加，每一圈都刻着你的名字。就像夜空中最执着的那颗星星，虽然不如月亮明亮，却用尽全部光芒守护着它的月亮。

我知道，再美的承诺都不及一个温暖的拥抱。所以我不说永远，只说——很快，很快的。我会用行动而不是承诺，把你接回我们共同的家。到那时，你会发现，原来这个有点笨拙的程序员，早就悄悄写好了余生的幸福代码。这些代码没有复杂的算法，只有最简单的循环：爱你，每一天，每一刻。

这个网页会像月光一样安静地存在，像燕子的归巢一样准时。它承载着我对你最真挚的思念：当你想看月亮时，这里永远有一轮为你而亮的明月；当你想念春天时，永远有一只小燕子在这里等你。只要人类的网络世界没有崩溃，我会一直更新。

江月，我的小燕子，请再给我一点时间。等我的枝干足够强壮，等我的光芒足够明亮，我会带着整个春天去接你回家。到那时，我们的屋檐下会有月光，会有星光，更会有彼此眼中最温暖的光芒。（如果想我了，记得点点月亮，我会知道）`;

    const letterEl = document.getElementById('letter');
    const footerEl = document.getElementById('footer');

    let index = 0;
    function typeWriter() {
      if (index < text.length) {
        letterEl.style.display = 'block';
        letterEl.innerHTML += text.charAt(index);
        index++;
        setTimeout(typeWriter, 40);
      } else {
        footerEl.style.display = 'block';
      }
    }
    setTimeout(typeWriter, 1000);

    function updateTimer() {
      const start = new Date('2024-09-22T00:00:00');
      const now = new Date();
      const diff = now - start;
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);
      document.getElementById('timer').innerText = `我们已经认识 ${days} 天 ${hours} 小时 ${minutes} 分 ${seconds} 秒`;
    }
    setInterval(updateTimer, 1000);
    updateTimer();

    // 星星跟随鼠标效果
    document.body.addEventListener('mousemove', (e) => {
      const star = document.createElement('div');
      star.className = 'star';
      star.style.top = `${e.clientY}px`;
      star.style.left = `${e.clientX}px`;
      document.body.appendChild(star);
      setTimeout(() => star.remove(), 1500);
    });

    // 访问通知功能
    function sendVisitNotification() {
      // 收集访问信息
      const now = new Date();
      document.getElementById('visitTime').value = now.toLocaleString('zh-CN');
      document.getElementById('visitReferrer').value = document.referrer || '直接访问';
      
      // 获取设备信息
      const deviceInfo = `屏幕: ${window.screen.width}x${window.screen.height}, 系统: ${navigator.platform}, 浏览器: ${navigator.userAgent.split(') ')[0].split('(')[1]}`;
      document.getElementById('visitDevice').value = deviceInfo;
      
      // 提交表单
      document.getElementById('visitorNotifyForm').submit();
      
      // 可选：在控制台输出通知已发送
      console.log('访问通知已发送至你的邮箱');
    }

    // 页面加载后发送通知
    window.addEventListener('load', sendVisitNotification);
    
    // 点击月亮时也发送通知（如文中提示）
    document.querySelector('.moon').addEventListener('click', function() {
      document.getElementById('visitTime').value = `${new Date().toLocaleString('zh-CN')} (点击月亮)`;
      document.getElementById('visitorNotifyForm').submit();
      alert('江月，我收到你的思念了❤️');
    });
  </script>
</body>
</html>